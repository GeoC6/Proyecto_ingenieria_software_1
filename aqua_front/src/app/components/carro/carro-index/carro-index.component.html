<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <div class="d-flex align-items-center">
      <a class="navbar-brand" href="#">
        <img
          src="../../../assets/img/logoAqua.png"
          alt="Aqua Logo"
          width="70"
          class="mr-2"
        />
      </a>
      <h2
        style="font-size: 30px; margin: 0; padding: 15px 0"
        class="text-white mx-auto text-center"
      >
        Productos
      </h2>
    </div>
    <!-- Dropdown de Carrito -->
    <div class="dropdown">
      <button
        class="btn btn-secondary dropdown-toggle"
        type="button"
        id="dropdownMenuButton"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        Carrito ({{ carro.length }} artículos)
      </button>
      <ul
        class="dropdown-menu dropdown-menu-end p-3"
        aria-labelledby="dropdownMenuButton"
        style="width: 300px"
      >
        <li *ngIf="carro.length === 0">
          <p class="dropdown-item">El carrito está vacío</p>
        </li>
        <li *ngFor="let item of carro; let i = index" class="mb-2">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <p class="mb-0">{{ item.NOMBRE_PRODUCTO }}</p>
              <p class="mb-0 text-muted">
                ${{ item.PRECIO_PRODUCTO }} x {{ item.CANTIDAD }}
              </p>
            </div>
            <div class="d-flex align-items-center">
              <span class="badge bg-success me-2">{{ item.TOTAL }}</span>
              <button
                class="btn btn-sm btn-danger"
                (click)="removeCarro(item.COD_PRODUCTO)"
              >
                Borrar
              </button>
            </div>
          </div>
        </li>
        <li>
          <strong class="dropdown-item">Total a Pagar: ${{ total }}</strong>
        </li>
        <li>
          <hr class="dropdown-divider" />
        </li>
        <li *ngIf="total > 0">
          <a class="dropdown-item text-center" routerLink="/web/checkout"
            >Ir a Pagar</a
          >
        </li>
      </ul>
    </div>
  </div>
</nav>

<div style="margin-top: 20px" class="container">
  <div class="row">
    <!-- Producto 1 -->
    <div class="col-md-4 mb-4" *ngFor="let list of data; let i = index">
      <div class="card h-100">
        <img
          [src]="'../../../assets/img/' + list.IMAGEN"
          class="card-img-top"
          alt="list.NOMBRE_PRODUCTO"
        />
        <div class="card-body d-flex flex-column">
          <div class="mt-auto">

          <h2 class="card-title">{{ list.NOMBRE_PRODUCTO }}</h2>
          <h3 class="text-success">${{ list.PRECIO_PRODUCTO }}</h3>

            <button class="btn btn-dark w-100" (click)="addCarro(list.COD_PRODUCTO)">
            Agregar al Carro
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
